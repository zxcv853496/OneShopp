{"remainingRequest":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/babel-loader/lib/index.js!/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ITL/Desktop/web/work/web_moto/OneShopp/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/src/App.vue","mtime":1610017854649},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gQCBpcyBhbiBhbGlhcyB0byAvc3JjCmltcG9ydCAnLi9hc3NldHMvY3NzL2FwcC5zY3NzJzsKaW1wb3J0IE1haW5OYXYgZnJvbSAnLi9jb21wb25lbnRzL01haW5OYXYvaW5kZXgnOwppbXBvcnQgUHJvZmlsZSBmcm9tICcuL2NvbXBvbmVudHMvUHJvZmlsZS9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnYXBwJywKICBjb21wb25lbnRzOiB7CiAgICBNYWluTmF2OiBNYWluTmF2LAogICAgUHJvZmlsZTogUHJvZmlsZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2ZpbGU6IHt9LAogICAgICBhdXRob3JpemVkOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvL3dpbmRvd+eahOaEj+aAne+8nwogICAgLy8g6Ziy5q2i6YeN6KSH6LyJ5YWlCiAgICB2YXIgdm0gPSB0aGlzOwoKICAgIHdpbmRvdy5mYkFzeW5jSW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgLy9mYumdnuWQjOatpeWIneWni+WMlgogICAgICB3aW5kb3cuRkIuaW5pdCh7CiAgICAgICAgYXBwSWQ6ICc0NTA3NjIxNzI3NDU5NzMnLAogICAgICAgIGNvb2tpZTogdHJ1ZSwKICAgICAgICB4ZmJtbDogdHJ1ZSwKICAgICAgICB2ZXJzaW9uOiAndjkuMCcKICAgICAgfSk7CiAgICAgIHdpbmRvdy5GQi5BcHBFdmVudHMubG9nUGFnZVZpZXcoKTsgLy/lpb3lg4/ot7PovYnpoIHpnaIg5LiN56K65a6aCgogICAgICBjb25zb2xlLmxvZygnZmJBc3luY0luaXQnKTsKICAgICAgd2luZG93LkZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLnN0YXR1c0NoYW5nZUNhbGxiYWNrKHJlc3BvbnNlKTsgLy8g6YCZ6KOh5Y+v5Lul5b6X5YiwIGZiIOWbnuWCs+eahOe1kOaenAogICAgICAgIC8v5YW25Lit5q+U6LyD6YeN6KaB55qEIHN0YXR1cyDljIXlkKvlub7lgIvni4DmhYt7CiAgICAgICAgLy8gY29ubmVjdGVkOiDkvb/nlKjogIXlt7LnmbvlhaUgRkLvvIzkuJTmjojmrIrkvaDnmoQgYXBwIOS9v+eUqOOAggogICAgICAgIC8vIG5vdF9hdXRob3JpemVkOiDkvb/nlKjogIXlt7LnmbvlhaUgRkLvvIzkvYbmnKrmjojmrIrkvaDnmoQgYXBwIOS9v+eUqOOAggogICAgICAgIC8vIHVua25vd246IOS9v+eUqOiAheaykuacieeZu+WFpSBGQu+8jOaIluW3suW+nuS9oOeahCBhcHAg5Lit55m75Ye644CCICAgICAgfQogICAgICAgIC8vIOWmguaenOS9oOaLv+S4jeWIsCBhdXRoUmVzcG9uc2Ug5pyJ5Y+v6IO95piv5L2/55So6ICF5rKS5pyJ55m75YWlIEZC77yM5oiW6ICF5LuW5bCa5pyq5o6I5qyK5L2g55qEIGFwcCDkvb/nlKjjgIIKICAgICAgfSk7CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8gRkIuZ2V0TG9naW5TdGF0dXMoKe+8mueNsuW+l+eUqOaItueahOeZu+WFpeeLgOaFiwogICAgLy8gRkIubG9naW4oY2FsbGJhY2ssIHtzY29wZX0p77ya6K6T55So5oi255m75YWl5Lim5o6I5qyK77yMc2NvcGUg5Y+v5Y+D6ICD5a6Y5pa55qyK6ZmQCiAgICAvLyBGQi5sb2dvdXQoKe+8mueZu+WHuueUqOaItgogICAgLy8gRkIuYXBpKHBhdGgsIG1ldGhvZCwgcGFyYW1zLCBjYWxsYmFjaynvvJrlm6DngrogRmFjZWJvb2sg54K6IEdyYXBoIEFQSe+8jOaJgOS7peavlOi8g+ikh+mbnOS4gOS6m++8jOips+e0sOWPr+WPg+iAg+WumOaWue+8jOmAmemCiuS7i+e0ueW5vuWAi+avlOi8g+W4uOeUqOeahAogICAgLy8gRkIuYXBpKCIvbWU/ZmllbGRzPW5hbWUsaWQsZW1haWwiLCBjYWxsYmFjaynvvJrnjbLlj5blgIvkurros4fmlpnvvIzlj4PmlbjmjqXlnKjllY/omZ/lvozmlrnvvIzkuIDmqKPlj6/lj4PogIPlrpjmlrnmrIrpmZAKICAgIC8vIEZCLmFwaSgiL21lL3Blcm1pc3Npb25zIiwgIkRFTEVURSIsIGNhbGxiYWNrKe+8muWIqumZpOaOiOasiu+8jOeUqOaItiBzdGF0dXMg6aCI54K6IGNvbm5lY3RlZAogICAgLy/nmbvlhaUKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgd2luZG93LkZCLmxvZ2luKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8v5Y+W5b6X54uA5oWLCiAgICAgICAgdm0uZ2V0UHJvZmlsZSgpOyAvL+WPluW+l+WAi+S6uuizh+aWmQoKICAgICAgICB2bS5zdGF0dXNDaGFuZ2VDYWxsYmFjayhyZXNwb25zZSk7CiAgICAgIH0sIHsKICAgICAgICBzY29wZTogJ2VtYWlsLCBwdWJsaWNfcHJvZmlsZScsCiAgICAgICAgLy/mg7Plj5blvpfnmoTos4foqIoKICAgICAgICByZXR1cm5fc2NvcGVzOiB0cnVlIC8vcmV0dXJuX3Njb3BlcyDngrogdHJ1ZSDmmYLlj6/ku6XlvpfliLDooqvmjojmrIrnmoTmuIXllq4KICAgICAgICAvL+WPr+S7peWcqOS9v+eUqOiAheeZu+WFpeeahCByZXNwb25zZSDkuK3lpJrlvpfliLDkuIDlgIvlkI3ngrogZ3JhbnRlZFNjb3BlcyDnmoTlsazmgKfvvIzoo6HpnaLmnIPlkYroqLTkvaDmjojmrIrkuoblk6rkupvlj6/nlKjnmoTpoIXnm64KCiAgICAgIH0pOwogICAgfSwKICAgIC8v55m75Ye6CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdmFyIHZtID0gdGhpczsgLy8g5qqi5p+l55m75YWl54uA5oWLCgogICAgICB3aW5kb3cuRkIuZ2V0TG9naW5TdGF0dXMoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8g5qqi5p+l55m75YWl54uA5oWLCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAgIC8vIOenu+mZpOaOiOasigogICAgICAgICAgd2luZG93LkZCLmFwaSgiL21lL3Blcm1pc3Npb25zIiwgIkRFTEVURSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgLy8g55So5oi255m75Ye6CiAgICAgICAgICAgIHdpbmRvdy5GQi5sb2dvdXQoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgdm0uc3RhdHVzQ2hhbmdlQ2FsbGJhY2socmVzcG9uc2UpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgYWxlcnQoJ+eZu+WHuuaIkOWKnycpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCfmnKrnmbvlhaUnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHN0YXR1c0NoYW5nZUNhbGxiYWNrOiBmdW5jdGlvbiBzdGF0dXNDaGFuZ2VDYWxsYmFjayhyZXNwb25zZSkgewogICAgICB2YXIgdm0gPSB0aGlzOwoKICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ2Nvbm5lY3RlZCcpIHsKICAgICAgICB2bS5hdXRob3JpemVkID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdub3RfYXV0aG9yaXplZCcpIHsKICAgICAgICB2bS5hdXRob3JpemVkID0gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAndW5rbm93bicpIHsKICAgICAgICB2bS5wcm9maWxlID0ge307CiAgICAgICAgdm0uYXV0aG9yaXplZCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLmF1dGhvcml6ZWQgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdm0uZ2V0UHJvZmlsZSgpOwogICAgfSwKICAgIC8v6YCZ6YKK5omN6IO955yf5q2j5oqT5Y+W5Yiw6LOH5paZCiAgICBnZXRQcm9maWxlOiBmdW5jdGlvbiBnZXRQcm9maWxlKCkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB3aW5kb3cuRkIuYXBpKCcvbWU/ZmllbGRzPW5hbWUsaWQsZW1haWwsbG9jYXRpb24nLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2bS4kc2V0KHZtLCAncHJvZmlsZScsIHJlc3BvbnNlKTsgLy/nm6PmjqcgcHJvZmlsZQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAeA;AACA,OAAA,uBAAA;AACA,OAAA,OAAA,MAAA,4BAAA;AACA,OAAA,OAAA,MAAA,4BAAA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA;AAFA,KAAA;AAIA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;AACA;AAEA,QAAA,EAAA,GAAA,IAAA;;AACA,IAAA,MAAA,CAAA,WAAA,GAAA,YAAA;AAAA;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,IAAA,CAAA;AACA,QAAA,KAAA,EAAA,iBADA;AAEA,QAAA,MAAA,EAAA,IAFA;AAGA,QAAA,KAAA,EAAA,IAHA;AAIA,QAAA,OAAA,EAAA;AAJA,OAAA;AAMA,MAAA,MAAA,CAAA,EAAA,CAAA,SAAA,CAAA,WAAA,GAPA,CAOA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,aAAA;AAEA,MAAA,MAAA,CAAA,EAAA,CAAA,cAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,oBAAA,CAAA,QAAA,EADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KAnBA;AAqBA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,KARA,mBAQA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,KAAA,CAAA,UAAA,QAAA,EAAA;AAAA;AACA,QAAA,EAAA,CAAA,UAAA,GADA,CACA;;AACA,QAAA,EAAA,CAAA,oBAAA,CAAA,QAAA;AACA,OAHA,EAGA;AACA,QAAA,KAAA,EAAA,uBADA;AACA;AACA,QAAA,aAAA,EAAA,IAFA,CAEA;AACA;;AAHA,OAHA;AASA,KAnBA;AAqBA;AACA,IAAA,MAtBA,oBAsBA;AACA,UAAA,EAAA,GAAA,IAAA,CADA,CAEA;;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,cAAA,CAAA,UAAA,QAAA,EAAA;AACA;AACA,YAAA,QAAA,CAAA,MAAA,KAAA,WAAA,EAAA;AACA;AACA,UAAA,MAAA,CAAA,EAAA,CAAA,GAAA,CAAA,iBAAA,EAAA,QAAA,EAAA,YAAA;AACA;AACA,YAAA,MAAA,CAAA,EAAA,CAAA,MAAA,CAAA,UAAA,QAAA,EAAA;AACA,cAAA,EAAA,CAAA,oBAAA,CAAA,QAAA;AACA,aAFA;AAGA,YAAA,KAAA,CAAA,MAAA,CAAA;AACA,WANA;AAOA,SATA,MAUA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA;AACA;AACA,OAfA;AAgBA,KAzCA;AA2CA,IAAA,oBA3CA,gCA2CA,QA3CA,EA2CA;AACA,UAAA,EAAA,GAAA,IAAA;;AACA,UAAA,QAAA,CAAA,MAAA,KAAA,WAAA,EAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,IAAA;AAEA,OAHA,MAIA,IAAA,QAAA,CAAA,MAAA,KAAA,gBAAA,EAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAFA,MAGA,IAAA,QAAA,CAAA,MAAA,KAAA,SAAA,EAAA;AACA,QAAA,EAAA,CAAA,OAAA,GAAA,EAAA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,KAAA;AACA,OAHA,MAIA;AACA,QAAA,EAAA,CAAA,UAAA,GAAA,KAAA;AACA;;AACA,MAAA,EAAA,CAAA,UAAA;AACA,KA5DA;AA8DA;AACA,IAAA,UA/DA,wBA+DA;AACA,UAAA,EAAA,GAAA,IAAA;AACA,MAAA,MAAA,CAAA,EAAA,CAAA,GAAA,CAAA,mCAAA,EAAA,UAAA,QAAA,EAAA;AACA,QAAA,EAAA,CAAA,IAAA,CAAA,EAAA,EAAA,SAAA,EAAA,QAAA,EADA,CACA;AACA,OAFA;AAGA;AApEA;AAtCA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n      <MainNav />\n    </div>\n    <router-view/>\n    <profile :profile=\"profile\"></profile>\n    <button @click=\"login\" v-if=\"!authorized\">Login</button>\n    <button @click=\"logout\" v-else>Logout</button>\n  </div>\n</template>\n\n\n\n<script>\n// @ is an alias to /src\nimport './assets/css/app.scss'\nimport MainNav from './components/MainNav/index'\nimport Profile from './components/Profile/index'\n\n\n\nexport default {\n  name: 'app',\n  components: {\n    MainNav,\n    Profile,\n  },\n  data(){\n    return{\n      profile: {},\n      authorized: false\n    }\n  },\n  mounted () {  //window的意思？\n  // 防止重複載入\n    \n      let vm = this\n      window.fbAsyncInit = function() {  //fb非同步初始化\n        window.FB.init({                \n          appId      : '450762172745973',\n          cookie     : true,\n          xfbml      : true,\n          version    : 'v9.0'\n        });\n        window.FB.AppEvents.logPageView();  //好像跳轉頁面 不確定\n        console.log('fbAsyncInit')\n\n      window.FB.getLoginStatus( response => {   \n        vm.statusChangeCallback(response)     \n      // 這裡可以得到 fb 回傳的結果\n      //其中比較重要的 status 包含幾個狀態{\n        // connected: 使用者已登入 FB，且授權你的 app 使用。\n        // not_authorized: 使用者已登入 FB，但未授權你的 app 使用。\n        // unknown: 使用者沒有登入 FB，或已從你的 app 中登出。      }\n        // 如果你拿不到 authResponse 有可能是使用者沒有登入 FB，或者他尚未授權你的 app 使用。\n        })\n      };\n    \n  },\n  methods: {\n  // FB.getLoginStatus()：獲得用戶的登入狀態\n  // FB.login(callback, {scope})：讓用戶登入並授權，scope 可參考官方權限\n  // FB.logout()：登出用戶\n  // FB.api(path, method, params, callback)：因為 Facebook 為 Graph API，所以比較複雜一些，詳細可參考官方，這邊介紹幾個比較常用的\n  // FB.api(\"/me?fields=name,id,email\", callback)：獲取個人資料，參數接在問號後方，一樣可參考官方權限\n  // FB.api(\"/me/permissions\", \"DELETE\", callback)：刪除授權，用戶 status 須為 connected\n  //登入\n    login () {  \n        let vm = this\n        window.FB.login(function (response) { //取得狀態\n          vm.getProfile() //取得個人資料\n          vm.statusChangeCallback(response)\n      }, {\n        scope: 'email, public_profile',   //想取得的資訊\n        return_scopes: true               //return_scopes 為 true 時可以得到被授權的清單\n                                          //可以在使用者登入的 response 中多得到一個名為 grantedScopes 的屬性，裡面會告訴你授權了哪些可用的項目\n      })\n      \n    },\n\n  //登出\n    logout () {   \n      let vm = this\n      // 檢查登入狀態\n      window.FB.getLoginStatus(function(response) {\n        // 檢查登入狀態\n        if (response.status === \"connected\") {\n          // 移除授權\n          window.FB.api(\"/me/permissions\", \"DELETE\", function() {\n            // 用戶登出\n          window.FB.logout(function(response) {\n            vm.statusChangeCallback(response)\n          });\n          alert('登出成功')\n          });\n        } \n        else {\n          alert('未登入')\n        }\n      });\n    },\n\n    statusChangeCallback (response) {\n      let vm = this\n      if (response.status === 'connected') {\n        vm.authorized = true\n        \n      } \n      else if (response.status === 'not_authorized') {\n        vm.authorized = false\n      } \n      else if (response.status === 'unknown') {\n        vm.profile = {}\n        vm.authorized = false\n      } \n      else {\n        vm.authorized = false\n      }\n      vm.getProfile()\n    },\n\n  //這邊才能真正抓取到資料\n    getProfile() {  \n      let vm =this\n      window.FB.api('/me?fields=name,id,email,location', function (response) {\n        vm.$set(vm, 'profile', response)  //監控 profile\n      })\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src"}]}