{"remainingRequest":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ITL/Desktop/web/work/web_moto/OneShopp/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/src/App.vue","mtime":1610017854649},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ITL/Desktop/web/work/web_moto/OneShopp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgJy4vYXNzZXRzL2Nzcy9hcHAuc2NzcycKaW1wb3J0IE1haW5OYXYgZnJvbSAnLi9jb21wb25lbnRzL01haW5OYXYvaW5kZXgnCmltcG9ydCBQcm9maWxlIGZyb20gJy4vY29tcG9uZW50cy9Qcm9maWxlL2luZGV4JwoKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FwcCcsCiAgY29tcG9uZW50czogewogICAgTWFpbk5hdiwKICAgIFByb2ZpbGUsCiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIHByb2ZpbGU6IHt9LAogICAgICBhdXRob3JpemVkOiBmYWxzZQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7ICAvL3dpbmRvd+eahOaEj+aAne+8nwogIC8vIOmYsuatoumHjeikh+i8ieWFpQogICAgCiAgICAgIGxldCB2bSA9IHRoaXMKICAgICAgd2luZG93LmZiQXN5bmNJbml0ID0gZnVuY3Rpb24oKSB7ICAvL2Zi6Z2e5ZCM5q2l5Yid5aeL5YyWCiAgICAgICAgd2luZG93LkZCLmluaXQoeyAgICAgICAgICAgICAgICAKICAgICAgICAgIGFwcElkICAgICAgOiAnNDUwNzYyMTcyNzQ1OTczJywKICAgICAgICAgIGNvb2tpZSAgICAgOiB0cnVlLAogICAgICAgICAgeGZibWwgICAgICA6IHRydWUsCiAgICAgICAgICB2ZXJzaW9uICAgIDogJ3Y5LjAnCiAgICAgICAgfSk7CiAgICAgICAgd2luZG93LkZCLkFwcEV2ZW50cy5sb2dQYWdlVmlldygpOyAgLy/lpb3lg4/ot7PovYnpoIHpnaIg5LiN56K65a6aCiAgICAgICAgY29uc29sZS5sb2coJ2ZiQXN5bmNJbml0JykKCiAgICAgIHdpbmRvdy5GQi5nZXRMb2dpblN0YXR1cyggcmVzcG9uc2UgPT4geyAgIAogICAgICAgIHZtLnN0YXR1c0NoYW5nZUNhbGxiYWNrKHJlc3BvbnNlKSAgICAgCiAgICAgIC8vIOmAmeijoeWPr+S7peW+l+WIsCBmYiDlm57lgrPnmoTntZDmnpwKICAgICAgLy/lhbbkuK3mr5TovIPph43opoHnmoQgc3RhdHVzIOWMheWQq+W5vuWAi+eLgOaFi3sKICAgICAgICAvLyBjb25uZWN0ZWQ6IOS9v+eUqOiAheW3sueZu+WFpSBGQu+8jOS4lOaOiOasiuS9oOeahCBhcHAg5L2/55So44CCCiAgICAgICAgLy8gbm90X2F1dGhvcml6ZWQ6IOS9v+eUqOiAheW3sueZu+WFpSBGQu+8jOS9huacquaOiOasiuS9oOeahCBhcHAg5L2/55So44CCCiAgICAgICAgLy8gdW5rbm93bjog5L2/55So6ICF5rKS5pyJ55m75YWlIEZC77yM5oiW5bey5b6e5L2g55qEIGFwcCDkuK3nmbvlh7rjgIIgICAgICB9CiAgICAgICAgLy8g5aaC5p6c5L2g5ou/5LiN5YiwIGF1dGhSZXNwb25zZSDmnInlj6/og73mmK/kvb/nlKjogIXmspLmnInnmbvlhaUgRkLvvIzmiJbogIXku5blsJrmnKrmjojmrIrkvaDnmoQgYXBwIOS9v+eUqOOAggogICAgICAgIH0pCiAgICAgIH07CiAgICAKICB9LAogIG1ldGhvZHM6IHsKICAvLyBGQi5nZXRMb2dpblN0YXR1cygp77ya542y5b6X55So5oi255qE55m75YWl54uA5oWLCiAgLy8gRkIubG9naW4oY2FsbGJhY2ssIHtzY29wZX0p77ya6K6T55So5oi255m75YWl5Lim5o6I5qyK77yMc2NvcGUg5Y+v5Y+D6ICD5a6Y5pa55qyK6ZmQCiAgLy8gRkIubG9nb3V0KCnvvJrnmbvlh7rnlKjmiLYKICAvLyBGQi5hcGkocGF0aCwgbWV0aG9kLCBwYXJhbXMsIGNhbGxiYWNrKe+8muWboOeCuiBGYWNlYm9vayDngrogR3JhcGggQVBJ77yM5omA5Lul5q+U6LyD6KSH6Zuc5LiA5Lqb77yM6Kmz57Sw5Y+v5Y+D6ICD5a6Y5pa577yM6YCZ6YKK5LuL57S55bm+5YCL5q+U6LyD5bi455So55qECiAgLy8gRkIuYXBpKCIvbWU/ZmllbGRzPW5hbWUsaWQsZW1haWwiLCBjYWxsYmFjaynvvJrnjbLlj5blgIvkurros4fmlpnvvIzlj4PmlbjmjqXlnKjllY/omZ/lvozmlrnvvIzkuIDmqKPlj6/lj4PogIPlrpjmlrnmrIrpmZAKICAvLyBGQi5hcGkoIi9tZS9wZXJtaXNzaW9ucyIsICJERUxFVEUiLCBjYWxsYmFjaynvvJrliKrpmaTmjojmrIrvvIznlKjmiLYgc3RhdHVzIOmgiOeCuiBjb25uZWN0ZWQKICAvL+eZu+WFpQogICAgbG9naW4gKCkgeyAgCiAgICAgICAgbGV0IHZtID0gdGhpcwogICAgICAgIHdpbmRvdy5GQi5sb2dpbihmdW5jdGlvbiAocmVzcG9uc2UpIHsgLy/lj5blvpfni4DmhYsKICAgICAgICAgIHZtLmdldFByb2ZpbGUoKSAvL+WPluW+l+WAi+S6uuizh+aWmQogICAgICAgICAgdm0uc3RhdHVzQ2hhbmdlQ2FsbGJhY2socmVzcG9uc2UpCiAgICAgIH0sIHsKICAgICAgICBzY29wZTogJ2VtYWlsLCBwdWJsaWNfcHJvZmlsZScsICAgLy/mg7Plj5blvpfnmoTos4foqIoKICAgICAgICByZXR1cm5fc2NvcGVzOiB0cnVlICAgICAgICAgICAgICAgLy9yZXR1cm5fc2NvcGVzIOeCuiB0cnVlIOaZguWPr+S7peW+l+WIsOiiq+aOiOasiueahOa4heWWrgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WPr+S7peWcqOS9v+eUqOiAheeZu+WFpeeahCByZXNwb25zZSDkuK3lpJrlvpfliLDkuIDlgIvlkI3ngrogZ3JhbnRlZFNjb3BlcyDnmoTlsazmgKfvvIzoo6HpnaLmnIPlkYroqLTkvaDmjojmrIrkuoblk6rkupvlj6/nlKjnmoTpoIXnm64KICAgICAgfSkKICAgICAgCiAgICB9LAoKICAvL+eZu+WHugogICAgbG9nb3V0ICgpIHsgICAKICAgICAgbGV0IHZtID0gdGhpcwogICAgICAvLyDmqqLmn6XnmbvlhaXni4DmhYsKICAgICAgd2luZG93LkZCLmdldExvZ2luU3RhdHVzKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CiAgICAgICAgLy8g5qqi5p+l55m75YWl54uA5oWLCiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAgIC8vIOenu+mZpOaOiOasigogICAgICAgICAgd2luZG93LkZCLmFwaSgiL21lL3Blcm1pc3Npb25zIiwgIkRFTEVURSIsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAvLyDnlKjmiLbnmbvlh7oKICAgICAgICAgIHdpbmRvdy5GQi5sb2dvdXQoZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgdm0uc3RhdHVzQ2hhbmdlQ2FsbGJhY2socmVzcG9uc2UpCiAgICAgICAgICB9KTsKICAgICAgICAgIGFsZXJ0KCfnmbvlh7rmiJDlip8nKQogICAgICAgICAgfSk7CiAgICAgICAgfSAKICAgICAgICBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCfmnKrnmbvlhaUnKQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHN0YXR1c0NoYW5nZUNhbGxiYWNrIChyZXNwb25zZSkgewogICAgICBsZXQgdm0gPSB0aGlzCiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdjb25uZWN0ZWQnKSB7CiAgICAgICAgdm0uYXV0aG9yaXplZCA9IHRydWUKICAgICAgICAKICAgICAgfSAKICAgICAgZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAnbm90X2F1dGhvcml6ZWQnKSB7CiAgICAgICAgdm0uYXV0aG9yaXplZCA9IGZhbHNlCiAgICAgIH0gCiAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ3Vua25vd24nKSB7CiAgICAgICAgdm0ucHJvZmlsZSA9IHt9CiAgICAgICAgdm0uYXV0aG9yaXplZCA9IGZhbHNlCiAgICAgIH0gCiAgICAgIGVsc2UgewogICAgICAgIHZtLmF1dGhvcml6ZWQgPSBmYWxzZQogICAgICB9CiAgICAgIHZtLmdldFByb2ZpbGUoKQogICAgfSwKCiAgLy/pgJnpgormiY3og73nnJ/mraPmipPlj5bliLDos4fmlpkKICAgIGdldFByb2ZpbGUoKSB7ICAKICAgICAgbGV0IHZtID10aGlzCiAgICAgIHdpbmRvdy5GQi5hcGkoJy9tZT9maWVsZHM9bmFtZSxpZCxlbWFpbCxsb2NhdGlvbicsIGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZtLiRzZXQodm0sICdwcm9maWxlJywgcmVzcG9uc2UpICAvL+ebo+aOpyBwcm9maWxlCiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <div id=\"nav\">\n      <MainNav />\n    </div>\n    <router-view/>\n    <profile :profile=\"profile\"></profile>\n    <button @click=\"login\" v-if=\"!authorized\">Login</button>\n    <button @click=\"logout\" v-else>Logout</button>\n  </div>\n</template>\n\n\n\n<script>\n// @ is an alias to /src\nimport './assets/css/app.scss'\nimport MainNav from './components/MainNav/index'\nimport Profile from './components/Profile/index'\n\n\n\nexport default {\n  name: 'app',\n  components: {\n    MainNav,\n    Profile,\n  },\n  data(){\n    return{\n      profile: {},\n      authorized: false\n    }\n  },\n  mounted () {  //window的意思？\n  // 防止重複載入\n    \n      let vm = this\n      window.fbAsyncInit = function() {  //fb非同步初始化\n        window.FB.init({                \n          appId      : '450762172745973',\n          cookie     : true,\n          xfbml      : true,\n          version    : 'v9.0'\n        });\n        window.FB.AppEvents.logPageView();  //好像跳轉頁面 不確定\n        console.log('fbAsyncInit')\n\n      window.FB.getLoginStatus( response => {   \n        vm.statusChangeCallback(response)     \n      // 這裡可以得到 fb 回傳的結果\n      //其中比較重要的 status 包含幾個狀態{\n        // connected: 使用者已登入 FB，且授權你的 app 使用。\n        // not_authorized: 使用者已登入 FB，但未授權你的 app 使用。\n        // unknown: 使用者沒有登入 FB，或已從你的 app 中登出。      }\n        // 如果你拿不到 authResponse 有可能是使用者沒有登入 FB，或者他尚未授權你的 app 使用。\n        })\n      };\n    \n  },\n  methods: {\n  // FB.getLoginStatus()：獲得用戶的登入狀態\n  // FB.login(callback, {scope})：讓用戶登入並授權，scope 可參考官方權限\n  // FB.logout()：登出用戶\n  // FB.api(path, method, params, callback)：因為 Facebook 為 Graph API，所以比較複雜一些，詳細可參考官方，這邊介紹幾個比較常用的\n  // FB.api(\"/me?fields=name,id,email\", callback)：獲取個人資料，參數接在問號後方，一樣可參考官方權限\n  // FB.api(\"/me/permissions\", \"DELETE\", callback)：刪除授權，用戶 status 須為 connected\n  //登入\n    login () {  \n        let vm = this\n        window.FB.login(function (response) { //取得狀態\n          vm.getProfile() //取得個人資料\n          vm.statusChangeCallback(response)\n      }, {\n        scope: 'email, public_profile',   //想取得的資訊\n        return_scopes: true               //return_scopes 為 true 時可以得到被授權的清單\n                                          //可以在使用者登入的 response 中多得到一個名為 grantedScopes 的屬性，裡面會告訴你授權了哪些可用的項目\n      })\n      \n    },\n\n  //登出\n    logout () {   \n      let vm = this\n      // 檢查登入狀態\n      window.FB.getLoginStatus(function(response) {\n        // 檢查登入狀態\n        if (response.status === \"connected\") {\n          // 移除授權\n          window.FB.api(\"/me/permissions\", \"DELETE\", function() {\n            // 用戶登出\n          window.FB.logout(function(response) {\n            vm.statusChangeCallback(response)\n          });\n          alert('登出成功')\n          });\n        } \n        else {\n          alert('未登入')\n        }\n      });\n    },\n\n    statusChangeCallback (response) {\n      let vm = this\n      if (response.status === 'connected') {\n        vm.authorized = true\n        \n      } \n      else if (response.status === 'not_authorized') {\n        vm.authorized = false\n      } \n      else if (response.status === 'unknown') {\n        vm.profile = {}\n        vm.authorized = false\n      } \n      else {\n        vm.authorized = false\n      }\n      vm.getProfile()\n    },\n\n  //這邊才能真正抓取到資料\n    getProfile() {  \n      let vm =this\n      window.FB.api('/me?fields=name,id,email,location', function (response) {\n        vm.$set(vm, 'profile', response)  //監控 profile\n      })\n    }\n  }\n}\n</script>\n"]}]}